---
import Topbar from '../components/topbar.astro';
import Layout from '../layouts/Layout.astro';

const ogUrl = new URL(Astro.url.pathname, Astro.site).href;
---
<Layout ogUrl={ogUrl} ogDescription="coiluckの個人サイト">
  <Topbar />
  <div class="container">
    <div class="circle">
      <svg class="circle-svg" viewBox="0 0 300 300">
        <circle cx="150" cy="150" r="148" class="circle-path" />
      </svg>

      <div class="horizontal-line"></div>
      <div class="vertical-line"></div>

      <div class="text-above"><a href="./profile" class="custom-link">Profile</a></div>
      <div class="text-lower-left"><a href="./create" class="custom-link">Create</a></div>
      <div class="text-lower-right"><a href="./blog" class="custom-link">Blog</a></div>
    </div>
  </div>

  <style>
    body {
      margin: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
  
    .container {
      position: relative;
    }
  
    .circle {
      width: 300px;
      height: 300px;
      position: relative;
    }

    .circle-svg {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      transform: rotate(-90deg);
      pointer-events: none;
    }
    .circle-path {
      fill: none;
      stroke: var(--bg-gyaku);
      stroke-width: 2;
      stroke-dasharray: 930; /* 円周(148 * 2 * 3.14) */
      stroke-dashoffset: 930;
      animation: drawCircle 1.2s cubic-bezier(0.65, 0, 0.35, 1) forwards;
    }
    @keyframes drawCircle {
      to { stroke-dashoffset: 0; }
    }

    .horizontal-line {
      height: 2px;
      background-color: var(--bg-gyaku);
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 0;
      animation: expandWidth 0.8s cubic-bezier(0.22, 1, 0.36, 1) forwards 0.8s;
    }
    .vertical-line {
      width: 2px;
      background-color: var(--bg-gyaku);
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      top: 50%;
      height: 0;
      animation: expandHeight 0.6s cubic-bezier(0.22, 1, 0.36, 1) forwards 1.0s;
    }
    @keyframes expandWidth {
      to { width: 100%; }
    }
    @keyframes expandHeight {
      to { height: 50%; }
    }
  
    .text-above,
    .text-lower-left,
    .text-lower-right {
      position: absolute;
      width: 100%;
      text-align: center;
      opacity: 0;
    }

    .text-above {
      top: 25%;
			animation: fadeIn 0.8s ease-out forwards;
    }
		@keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .text-lower-left {
      width: 50%;
      top: 70%;
      left: 0;
			animation: fadeInLower 0.8s ease-out forwards;
    }
    .text-lower-right {
      width: 50%;
      top: 70%;
      right: 0;
			animation: fadeInLower 0.8s ease-out forwards;
    }
    @keyframes fadeInLower {
      from { opacity: 0; transform: translateY(calc(-50% + 10px)); }
      to { opacity: 1; transform: translateY(-50%); }
    }

    .custom-link {
      border-bottom: 1px solid rgba(0, 0, 0, 0);
      color: var(--bg-gyaku);
      font-size: 1rem;
      text-decoration: none;
      background: linear-gradient(#f6d893, #f6d893) right 60% / 0 .8em no-repeat;
      transition: background-size .4s cubic-bezier(0.215, 0.61, 0.355, 1);
    }
    .custom-link:hover {
      background-position: left 60%;
      background-size: 100% .8em;
    }
		:root[data-theme="dark"] .custom-link {
      background: linear-gradient(#6088C6, #6088C6) right 60% / 0 .8em no-repeat;
    }
    :root[data-theme="dark"] .custom-link:hover {
      background-position: left 60%;
      background-size: 100% .8em;
    }
  
    @media (max-width: 380px) {
      .circle {
        width: 250px;
        height: 250px;
      }
    }
  </style>
</Layout>